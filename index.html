<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mike Whyle — Portfolio</title>
  <link rel="icon" href="favicon.png" type="image/png">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; background: #fff; color: #84b3e4; }
    body { font-family: Sora, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; line-height: 1.45; }

    :root{
      --ink:#0b0b0c;
      --paper:#ffffff;
      --soft:#f1fdfd;
      --shadow: 0 14px 36px rgba(0,0,0,.18);
      --radius: 14px;
      --gutter: clamp(10px, 2vw, 28px);
    }

    .wrap { max-width: 1920px; margin: 0 auto; padding: 16px; }

    /* Card base */
    .card {
      width:100%;
      background: var(--soft);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      transform: translateZ(0);
      padding: var(--gutter);
    }

    /* Hero */
    .hero { margin: 16px; }
    .hero > img { display:block; width:100%; height:auto; opacity:0; transition: opacity .35s ease; }
    .hero.loaded > img { opacity:1; }

    /* Fold */
    .fold { margin: 8px 16px 16px; }
    .fold > img{ display:block; width:100%; height:auto; opacity:0; transition: opacity .35s ease; }
    .fold.loaded > img{ opacity:1; }

    /* Stacks */
    .stack{ display:flex; flex-direction:column; gap:24px; padding: 0 16px 24px; }
    .slide > img{ display:block; width:100%; height:auto; opacity:0; transition: opacity .35s ease; }
    .slide.loaded > img{ opacity:1; }
    .slide.portrait{ max-width:720px; margin:0 auto; }

    /* 2×2 grid for first four design images */
    .grid4{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap:24px;
      padding: 0 16px 0;
      margin-bottom: 24px;
    }
    .grid4 .card{ margin:0; }
    .grid4 .card.portrait img{ width:50%; height:auto; margin-inline:auto; display:block; }
    @media (max-width:540px){ .grid4 .card.portrait img{ width:60%; } }

    /* Text articles */
    .articles { padding: 0 16px 24px; display:flex; flex-direction:column; gap:24px; }
    .article { background: var(--soft); border-radius: var(--radius); box-shadow: var(--shadow); padding: clamp(14px, 2.2vw, 28px); }
    .article h3 { margin: 0 0 6px 0; font-size: clamp(18px, 3.4vw, 26px); font-weight: 800; color: var(--ink); letter-spacing:.2px; }
    .article p  { margin: 0; color:#222; font-size: clamp(14px, 2.6vw, 18px); line-height: 1.6; }
    .article a  { display:inline-block; margin-top:10px; font-weight:700; text-decoration:none; color:#0E7C7B; border-bottom:1px solid rgba(14,124,123,.35); }
    .article a:hover { border-bottom-color: rgba(14,124,123,.7); }

    /* Video players */
    .player.card { margin: 8px 16px 16px; }
    .embed {
      position: relative;
      width: 100%;
      aspect-ratio: 16 / 9;
      background: #000;
      border-radius: var(--radius);
      overflow: hidden;
    }
    .embed > iframe,
    .embed > video {
      display: block;
      width: 100%;
      height: 100%;
      border: 0;
      background: #000;
    }
    .embeds {
      display: flex;
      flex-direction: column;
      gap: 24px;
      padding: 0 16px 24px;
    }

    /* Footer (added) */
    .footer { text-align: center; padding: 40px 16px 48px; }
    .footer a { display: inline-block; text-decoration: none; }
    .footer img { max-width: 240px; width: 40vw; height: auto; display:block; margin: 0 auto 10px; }
    .copyright { color:#222; font-size: 14px; }
  </style>
</head>
<body>

  <!-- HERO -->
  <section class="hero card" id="top">
    <img id="heroImg" src="images/hero.png" alt="">
  </section>

  <div class="wrap">
    <!-- VISUALS -->
    <section id="visuals">
      <div id="fold-visuals"></div>
      <div id="grid-visuals" class="grid4"></div>
      <main id="stack-visuals" class="stack" aria-live="polite"></main>
    </section>

    <!-- MOTION -->
    <section id="motion">
      <div id="fold-motion"></div>
      <!-- Showreel placeholder -->
      <div id="reel-motion"></div>
      <!-- External embeds list -->
      <div id="embeds-motion" class="embeds"></div>
      <main id="stack-motion" class="stack" aria-live="polite"></main>
    </section>

    <!-- APPS -->
    <section id="apps">
      <div id="fold-apps"></div>
      <main id="stack-apps" class="stack" aria-live="polite"></main>
    </section>

    <!-- TEXT -->
    <section id="text">
      <div id="fold-text"></div>
      <div id="articles" class="articles"></div>
    </section>
  </div>

  <!-- FOOTER (added) -->
  <footer class="footer">
    <a href="https://www.mikewhyle.com" target="_blank" rel="noopener">
      <img src="images/mikelogo.png" alt="Mike Whyle">
    </a>
    <div class="copyright">&copy; 2025</div>
  </footer>

  <script>
    // Smooth scroll if available
    if ('scrollBehavior' in document.documentElement.style) {
      document.documentElement.style.scrollBehavior = 'smooth';
    }

    // Hero reveal
    const hero = document.getElementById('heroImg');
    if (hero.complete) hero.closest('.hero').classList.add('loaded');
    hero.addEventListener('load', () => hero.closest('.hero').classList.add('loaded'));

    // Fold images
    const FOLD_FILES = {
      visuals: 'images/designfold.png',
      motion:  'images/motionfold.png',
      apps:    'images/codefold.png',
      text:    'images/textfold.png'
    };
    const TEXT_FOLD_LINK = "https://mikewhyle.com/about/delivered/";

    // Files per section
    const SECTION_FILES = {
      visuals: [
        "design1.png","design2.png","design3.png","design4.png",
        "design5.png","design6.png","design7.png","design8.png",
        "design9.png","design10.png","design11.png","design12.png",
        "design13.png","design14.png","design15.png","design16.png","design17.png"
      ],
      motion: [],
      apps: ["code1.png","code2.png","code3.png"],
      text: []
    };

    // Optional per-image links
    const SECTION_LINKS = {
      apps: {
        "code1.png": "https://mikewhyle.com/tarot/",
        "code2.png": "https://mikewhyle.com/slumbr/"
      }
    };

    const DIRS = {
      visuals: 'images',
      motion:  'images/motion',
      apps:    'images',
      text:    'images/text'
    };

    function loadImage(src) {
      return new Promise(resolve => {
        const img = new Image();
        img.decoding = 'async';
        img.loading = 'eager';
        img.alt = '';
        img.onload = () => resolve({ok:true, img});
        img.onerror = () => resolve({ok:false, src});
        img.src = src;
      });
    }

    async function renderFold(sectionId) {
      const foldSrc = FOLD_FILES[sectionId];
      const mount = document.getElementById(`fold-${sectionId}`);
      if (!foldSrc || !mount) return;

      const res = await loadImage(foldSrc);
      if (!res.ok) return;

      const isText = sectionId === 'text';
      const wrapper = document.createElement(isText ? 'a' : 'div');
      if (isText) {
        wrapper.href = TEXT_FOLD_LINK;
        wrapper.target = "_blank";
        wrapper.rel = "noopener";
        wrapper.style.textDecoration = "none";
      }

      const fig = document.createElement('figure');
      fig.className = 'fold card';
      fig.appendChild(res.img);
      wrapper.appendChild(fig);
      mount.appendChild(wrapper);
      requestAnimationFrame(() => fig.classList.add('loaded'));
    }

    // VISUALS: first four grid, rest stacked
    async function renderVisuals() {
      await renderFold('visuals');

      const files = SECTION_FILES.visuals || [];
      const dir = DIRS.visuals;

      const gridMount = document.getElementById('grid-visuals');
      const firstFour = files.slice(0, 4);
      for (const name of firstFour) {
        const res = await loadImage(`${dir}/${name}`);
        if (!res.ok) continue;
        const fig = document.createElement('figure');
        const isPortrait = res.img.naturalHeight > res.img.naturalWidth;
        fig.className = `card${isPortrait ? ' portrait' : ''}`;
        fig.appendChild(res.img);
        gridMount.appendChild(fig);
        requestAnimationFrame(() => fig.classList.add('loaded'));
      }

      const rest = files.slice(4);
      const stack = document.getElementById('stack-visuals');
      for (const name of rest) {
        const res = await loadImage(`${dir}/${name}`);
        if (!res.ok) continue;
        const fig = document.createElement('figure');
        fig.className = 'slide card';
        if (res.img.naturalHeight > res.img.naturalWidth) fig.classList.add('portrait');
        fig.appendChild(res.img);
        stack.appendChild(fig);
        requestAnimationFrame(() => fig.classList.add('loaded'));
      }
    }

    // Generic image section with optional per-image links
    async function renderSection(sectionId) {
      await renderFold(sectionId);
      const files = SECTION_FILES[sectionId] || [];
      const dir = DIRS[sectionId];
      const stack = document.getElementById(`stack-${sectionId}`);
      if (!stack) return;

      for (const name of files) {
        const res = await loadImage(`${dir}/${name}`);
        if (!res.ok) continue;

        const fig = document.createElement('figure');
        fig.className = 'slide card';
        if (res.img.naturalHeight > res.img.naturalWidth) fig.classList.add('portrait');
        fig.appendChild(res.img);

        const linkMap = SECTION_LINKS[sectionId] || {};
        const href = linkMap[name];
        if (href) {
          const a = document.createElement('a');
          a.href = href;
          a.target = "_blank";
          a.rel = "noopener";
          a.style.display = "block";
          a.style.textDecoration = "none";
          a.appendChild(fig);
          stack.appendChild(a);
        } else {
          stack.appendChild(fig);
        }

        requestAnimationFrame(() => fig.classList.add('loaded'));
      }
    }

    // Text stories list
    const STORIES = [
      {
        title: "Why you can’t trust Grok 4’s benchmarks",
        url: "https://mikewhyle.com/trust-issues-with-grok-4/",
        excerpt: "For users in South Africa and across the continent, the stakes are particularly high. Big Tech has a long history of treating Africa as an afterthought. As a vibrant local AI ecosystem begins to emerge, trust is the most critical currency. Before any AI company can expect the confidence of users here, it must first demonstrate a genuine commitment to integrity. All things considered, Elon Musk’s xAI has given his country of origin precious little reason to trust his latest chatbot, no matter what the benchmarks claim."
      },
      {
        title: "RISEN FROM THE SEA",
        url: "https://mikewhyle.com/risen-from-the-sea/",
        excerpt: "Imagine gazing out at a sunset that cascades over the ocean, viewed from the summit of a majestic flat-topped peak that has stood as witness to the passage of time for hundreds of millions of years. This is Table Mountain. An iconic landmark in the heart of Cape Town, one of Africa’s most dynamic urban landscapes, and the oldest city in South Africa."
      },
      {
        title: "“What in the SMR is this?!”",
        url: "https://mikewhyle.com/what-in-the-smr-is-this/",
        excerpt: "Generative AI and the digital economy are advancing at breakneck pace, but looming energy shortfalls could thwart Big Tech’s best-laid plans for expansion. The worldwide race for reliable, clean energy has become a high-stakes game where digital progress and climate survival hang in the balance. Now hyperscalers may have found their panacea in miniaturized, mass-produced nuclear reactors."
      },
      {
        title: "The power of mindfulness: embracing calm in a hectic world",
        url: "https://mikewhyle.com/the-power-of-mindfulness-embracing-calm-in-a-hectic-world/",
        excerpt: "Over the past few years, mindfulness has gone from being an obscure, somewhat radical concept, to being a universally accepted, everyday survival strategy."
      },
      {
        title: "What’s causing the skyrocketing demand for compute?",
        url: "https://mikewhyle.com/whats-causing-the-skyrocketing-demand-for-compute/",
        excerpt: "Data centers have evolved from repositories of information to become the operational bedrock of modern businesses. They now form the backbone of our digital economy, supporting everything from streaming services to complex AI operations. This transformation has ushered in one of the most lucrative business models in the history of humankind: converting energy into compute power. "
      },
      {
        title: "Pioneering Progress",
        url: "https://mikewhyle.com/pioneering-progress/",
        excerpt: "Experts are concerned about resource limits and insufficient radiology skills and services in Africa, particularly for cancer detection and treatment. As the continent grapples with the rising burden of cancer, the intersection of oncology and radiology emerges as a complex landscape where cutting-edge advancements contend with pressing issues of accessibility, affordability, and healthcare system economics."
      },
      {
        title: "Blood, Books and Bots: The True Origins of AI",
        url: "https://mikewhyle.com/blood-books-and-bots-the-true-origins-of-ai/",
        excerpt: "The first known use of AI is actually much earlier than people think. In fact it was during the Palaeolithic era, probably around 100,000 years ago. "
      }
    ];

    function renderStories(){
      const mount = document.getElementById('articles');
      STORIES.forEach(s => {
        const art = document.createElement('article');
        art.className = 'article';
        art.innerHTML = `
          <h3>${s.title}</h3>
          <p>${s.excerpt}</p>
          <a href="${s.url}" target="_blank" rel="noopener">Read the full story</a>
        `;
        mount.appendChild(art);
      });
    }

    // Showreel files live in /images
    const SHOWREEL = {
      poster: "images/showreelposter.png",
      src: "images/Showreelsmall.mp4",
      type: "video/mp4"
    };

    // Motion embeds: Google Drive and YouTube links
    const MOTION_EMBEDS = [
      "https://drive.google.com/file/d/1mb8nkdVeINYfRv6zsze-KKhV_VH_cDxH/view?usp=sharing",
      "https://drive.google.com/file/d/1J_j_Z7Lu_V6eloxoYpKqr4vLmh4FG9ZB/view?usp=sharing",
      "https://drive.google.com/file/d/1qkm1kRKqVQTI9aZI8P1OtqdwyfGhTXjA/view?usp=sharing",
      "https://www.youtube.com/watch?v=iDio-suJ57k",
      "https://www.youtube.com/watch?v=alNjwAm7x8w&t=26s",
      "https://www.youtube.com/watch?v=iDio-suJ57k",
      "https://www.youtube.com/watch?v=Ghzg8XYxvHc"
    ];

    function toYouTubeEmbed(url){
      const v = (url.match(/[?&]v=([A-Za-z0-9_-]{11})/) || [])[1];
      if (!v) return null;
      const start = (url.match(/[?&]t=(\d+)/) || [])[1];
      const t = start ? `&start=${start}` : "";
      return `https://www.youtube-nocookie.com/embed/${v}?rel=0${t}`;
    }

    function toDriveEmbed(url){
      const m = url.match(/\/file\/d\/([A-Za-z0-9_-]+)\//);
      if (!m) return null;
      return `https://drive.google.com/file/d/${m[1]}/preview`;
    }

    function renderShowreel(){
      const mount = document.getElementById('reel-motion');
      if (!mount) return;

      const fig = document.createElement('figure');
      fig.className = 'player card';

      const wrap = document.createElement('div');
      wrap.className = 'embed';

      const video = document.createElement('video');
      video.controls = true;
      video.preload = 'metadata';
      video.poster = SHOWREEL.poster;

      const src = document.createElement('source');
      src.src = SHOWREEL.src;
      src.type = SHOWREEL.type;

      video.appendChild(src);
      wrap.appendChild(video);
      fig.appendChild(wrap);
      mount.appendChild(fig);
    }

    function renderMotionEmbeds(){
      const mount = document.getElementById('embeds-motion');
      if (!mount) return;

      const seen = new Set();
      MOTION_EMBEDS.forEach(u => {
        if (seen.has(u)) return;
        seen.add(u);

        let embed = null;
        if (u.includes('youtube.com') || u.includes('youtu.be')) {
          embed = toYouTubeEmbed(u);
        } else if (u.includes('drive.google.com')) {
          embed = toDriveEmbed(u);
        }
        if (!embed) return;

        const fig = document.createElement('figure');
        fig.className = 'card';

        const frameWrap = document.createElement('div');
        frameWrap.className = 'embed';

        const iframe = document.createElement('iframe');
        iframe.src = embed;
        iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
        iframe.allowFullscreen = true;

        frameWrap.appendChild(iframe);
        fig.appendChild(frameWrap);
        mount.appendChild(fig);
      });
    }

    async function renderMotion(){
      await renderFold('motion');
      renderShowreel();
      renderMotionEmbeds();
    }

    (async function init(){
      await renderVisuals();
      await renderMotion();
      await renderSection('apps');
      await renderFold('text');
      renderStories();
    })();
  </script>
</body>
</html>
